# Test Plan: Pre-commit Hook (2.2)

## Goals
- Verify `.pre-commit-hooks.yaml` is valid and discoverable.
- Verify the hook triggers on changes to specific files.
- Verify the hook correctly invokes the `kabamdam` CLI.
- Verify the hook blocks commits when `kabamdam` fails.

## Test Strategy

### 1. Integration Scenarios (`tests/test_pre_commit.py`)
- **Scenario 1: Trigger on Roadmap Change**: Verify hook runs when `ROADMAP.md` is modified.
- **Scenario 2: Trigger on Timesheet Change**: Verify hook runs when `timesheets.md` is modified.
- **Scenario 3: Bypass on Unrelated Changes**: Verify hook is skipped for files like `src/main.py`.
- **Scenario 4: Successful Update**: Verify hook exit 0 on valid inputs.
- **Scenario 5: Failure Blocks Commit**: Verify hook exit 1 on invalid inputs (e.g., partial markers).


## Tools
- `pytest` with `subprocess` to invoke `pre-commit`.
- Temporary directory for git repo simulation.
