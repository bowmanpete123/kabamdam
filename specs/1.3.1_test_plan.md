# Test Plan: SVG Heatmap Enhancements (1.3.1 - 1.3.3)

## Goals
- Verify new 4-color palette mapping.
- Verify legend label updates.
- Verify bug icon rendering (white circle).
- Verify hierarchical extraction of atomic items.

## Test Suite: `tests/test_svg_generator.py`

### Scenario 1: Palette Verification
- **Test Case**: `test_palette_mapping`
- **Input**: `RoadmapTask` objects with all possible statuses.
- **Assertions**:
    - `DONE` -> `#2ea44f`
    - `TESTING` -> `#8250df`
    - `ANALYSIS` -> `#0969da`
    - `DEVELOPMENT` -> `#0969da`
    - `TODO` -> `#8b949e`

### Scenario 2: Legend Verification
- **Test Case**: `test_legend_labels`
- **Input**: Any valid SVG generation call.
- **Assertions**:
    - Presence of text: "Progress", "Lessons", "Design", "Planned".
    - Correct colors associated with labels.

### Scenario 3: Bug Icon Verification
- **Test Case**: `test_bug_icon_rendering`
- **Input**: `RoadmapTask` with `type="BUG"`.
- **Assertions**:
    - SVG contains `<circle ... fill="white"` or similar bug marker inside/overlayed on the status square.

### Scenario 4: Hierarchy Verification
- **Test Case**: `test_hierarchical_atomic_extraction`
- **Input**: Deeply nested tasks including bugs.
- **Assertions**:
    - All leaf items (level 3+) are rendered.
    - Bugs among them have icons.

## Tools
- `pytest-kedge` for declarative test cases.
- `pytest-cov` for coverage reporting.
